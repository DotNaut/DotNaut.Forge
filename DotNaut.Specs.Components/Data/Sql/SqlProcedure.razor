@namespace DotNaut.Data.Sql
@inherits DotNaut.Data.Sql.SqlObject

DROP PROCEDURE IF EXISTS
    @FullName
GO

CREATE PROCEDURE @FullName
AS
SET NOCOUNT ON

@ChildContent

RETURN 0
GO

@if (Grants != null)
{
    @foreach (var grant in Grants)
    {
        @* TODO:A dedicated component for grant*@
        <text>GRANT EXECUTE ON @FullName TO @grant@(EOL)</text>
        <text>GO@(EOL)@(EOL)</text>
    }
}

@code {
    [Parameter]
    public RenderFragment? ChildContent { get; set; }

    [Parameter]
    public string[]? Grants { get; set; }    
}
